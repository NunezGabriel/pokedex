{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielnunez/Desktop/pokedex/src/pages/search-page.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Input from \"../components/input\";\nimport PokemonData from \"../components/pokemon-data\";\nimport { getPokemon } from \"../services/pokeapi-service\";\nimport { Button } from \"../components/login-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useAsync(asyncCallback) {\n  _s();\n  const [state, setState] = useState({\n    status: \"idle\",\n    // idle = inactive // success // error // pending\n    data: null,\n    error: null\n  });\n  useEffect(() => {\n    const promise = asyncCallback();\n    if (!promise) return;\n    setState({\n      status: \"pending\",\n      data: null,\n      error: null\n    });\n    promise.then(data => {\n      setState({\n        status: \"success\",\n        data,\n        error: null\n      });\n    }).catch(error => {\n      setState({\n        status: \"error\",\n        data: null,\n        error\n      });\n    });\n  }, [asyncCallback]);\n  return {\n    ...state\n  };\n}\n_s(useAsync, \"NgKx3s2kI35nGon73Byd/x8jCDA=\");\nfunction SearchPage(_ref) {\n  _s2();\n  let {\n    favorites,\n    onAddFavorite,\n    onRemoveFavorite\n  } = _ref;\n  const [query, setQuery] = useState(\"\");\n\n  // \"El pokemon no existe! intente de nuevo\"\n\n  const fetchPokemon = useCallback(function () {\n    if (!query) return;\n    return getPokemon(query);\n  }, [query]);\n  const {\n    status,\n    data: pokemon,\n    error\n  } = useAsync(fetchPokemon);\n  const isFavorite = Boolean(favorites.find(fav => fav.pokemon_name === (pokemon === null || pokemon === void 0 ? void 0 : pokemon.name)));\n  function handleSubmit(event) {\n    event.preventDefault();\n    setQuery(event.target.elements.query.value);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        display: \"flex\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        name: \"query\",\n        placeholder: \"pokemon name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          padding: \"5px, 20px\"\n        },\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), status === \"pending\" && \"Loading...\", status === \"idle\" && \"Ready to search\", status === \"success\" && /*#__PURE__*/_jsxDEV(PokemonData, {\n      pokemon: pokemon,\n      onAddFavorite: onAddFavorite,\n      onRemoveFavorite: onRemoveFavorite,\n      isFavorite: isFavorite\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), status === \"error\" && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/favorites\",\n      children: \"Go to Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s2(SearchPage, \"QC4gsYB/y3Ynk2bVDQPFvbNJ9+A=\", false, function () {\n  return [useAsync];\n});\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["useCallback","useEffect","useState","Link","Input","PokemonData","getPokemon","Button","jsxDEV","_jsxDEV","useAsync","asyncCallback","_s","state","setState","status","data","error","promise","then","catch","SearchPage","_ref","_s2","favorites","onAddFavorite","onRemoveFavorite","query","setQuery","fetchPokemon","pokemon","isFavorite","Boolean","find","fav","pokemon_name","name","handleSubmit","event","preventDefault","target","elements","value","children","onSubmit","style","display","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","padding","color","message","to","_c","$RefreshReg$"],"sources":["/Users/gabrielnunez/Desktop/pokedex/src/pages/search-page.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Input from \"../components/input\";\nimport PokemonData from \"../components/pokemon-data\";\nimport { getPokemon } from \"../services/pokeapi-service\";\nimport { Button } from \"../components/login-form\";\n\nfunction useAsync(asyncCallback) {\n  const [state, setState] = useState({\n    status: \"idle\", // idle = inactive // success // error // pending\n    data: null,\n    error: null,\n  });\n\n  useEffect(() => {\n    const promise = asyncCallback();\n\n    if (!promise) return;\n\n    setState({ status: \"pending\", data: null, error: null });\n\n    promise\n      .then((data) => {\n        setState({ status: \"success\", data, error: null });\n      })\n      .catch((error) => {\n        setState({\n          status: \"error\",\n          data: null,\n          error,\n        });\n      });\n  }, [asyncCallback]);\n\n  return { ...state };\n}\n\nfunction SearchPage({ favorites, onAddFavorite, onRemoveFavorite }) {\n  const [query, setQuery] = useState(\"\");\n\n  // \"El pokemon no existe! intente de nuevo\"\n\n  const fetchPokemon = useCallback(\n    function () {\n      if (!query) return;\n\n      return getPokemon(query);\n    },\n    [query]\n  );\n\n  const { status, data: pokemon, error } = useAsync(fetchPokemon);\n\n  const isFavorite = Boolean(\n    favorites.find((fav) => fav.pokemon_name === pokemon?.name)\n  );\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    setQuery(event.target.elements.query.value);\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit} style={{ display: \"flex\" }}>\n        <Input name=\"query\" placeholder=\"pokemon name\" />\n        <Button style={{ padding: \"5px, 20px\" }}>Search</Button>\n      </form>\n      {status === \"pending\" && \"Loading...\"}\n      {status === \"idle\" && \"Ready to search\"}\n      {status === \"success\" && (\n        <PokemonData\n          pokemon={pokemon}\n          onAddFavorite={onAddFavorite}\n          onRemoveFavorite={onRemoveFavorite}\n          isFavorite={isFavorite}\n        />\n      )}\n      {status === \"error\" && <p style={{ color: \"red\" }}>{error.message}</p>}\n\n      <Link to=\"/favorites\">Go to Favorites</Link>\n    </div>\n  );\n}\n\nexport default SearchPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}